<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Management Sections</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'law-blue': '#1e3a8a',
                        'law-gold': '#fbbf24',
                        'law-gray': '#6b7280',
                        'law-light': '#f8fafc'
                    }
                }
            }
        }
    </script>
</head>
<body class="font-inter bg-law-light">
    <div class="min-h-screen p-6">
        
        <!-- User Management Section -->
        <section id="user-management-section" class="section-content hidden">
            <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900">User Management</h3>
                        <p class="text-sm text-gray-500 mt-1">Manage user accounts, roles, and permissions</p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button class="px-4 py-2 bg-law-blue text-white rounded-lg hover:bg-blue-800 transition-colors duration-200">
                            <i class="fa-solid fa-user-plus mr-2"></i>
                            Add User
                        </button>
                        <select class="px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-law-blue">
                            <option value="">All Roles</option>
                            <option value="admin">Administrator</option>
                            <option value="attorney">Attorney</option>
                            <option value="paralegal">Paralegal</option>
                            <option value="client">Client</option>
                            <option value="lead">Lead</option>
                        </select>
                    </div>
                </div>
                
                <div class="p-6">
                    <div class="space-y-4">
                        <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                            <div class="px-6 py-4 bg-gray-50 border-b border-gray-200">
                                <div class="flex items-center justify-between">
                                    <h4 class="text-md font-medium text-gray-900">System Users</h4>
                                    <span class="text-sm text-gray-500">5 active users</span>
                                </div>
                            </div>
                            
                            <div class="divide-y divide-gray-200">
                                <div class="px-6 py-4 hover:bg-gray-50 transition-colors duration-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0 h-10 w-10">
                                                <img class="h-10 w-10 rounded-full object-cover border-2 border-gray-200" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM0QjVTNjMiLz4KPGNpcmNsZSBjeD0iMjAiIGN5PSIxNiIgcj0iNiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTggMzJDOCAyNi40NzcyIDEyLjQ3NzIgMjIgMTggMjJIMjJDMjcuNTIyOCAyMiAzMiAyNi40NzcyIDMyIDMyVjM0QzMyIDM1LjEwNDYgMzEuMTA0NiAzNiAzMCAzNkgxMEM4Ljg5NTQzIDM2IDggMzUuMTA0NiA4IDM0VjMyWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+" alt="Attorney Profile">
                                            </div>
                                            <div class="ml-4">
                                                <div class="flex items-center">
                                                    <p class="text-sm font-medium text-gray-900">Michael Cohen</p>
                                                    <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                                        Administrator
                                                    </span>
                                                </div>
                                                <p class="text-sm text-gray-500">michael@cohenlawfirm.com</p>
                                                <div class="flex items-center mt-1">
                                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800">
                                                        <i class="fa-solid fa-circle text-green-500 text-xs mr-1"></i>
                                                        Active
                                                    </span>
                                                    <span class="ml-2 text-xs text-gray-400">Last login: 2 hours ago</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <button class="p-2 text-gray-400 hover:text-gray-600 transition-colors duration-200" title="Edit User">
                                                <i class="fa-solid fa-edit"></i>
                                            </button>
                                            <button class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200" title="Deactivate User">
                                                <i class="fa-solid fa-user-slash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="px-6 py-4 hover:bg-gray-50 transition-colors duration-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0 h-10 w-10">
                                                <img class="h-10 w-10 rounded-full object-cover border-2 border-gray-200" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM5RDRFREQiLz4KPGNpcmNsZSBjeD0iMjAiIGN5PSIxNiIgcj0iNiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTggMzJDOCAyNi40NzcyIDEyLjQ3NzIgMjIgMTggMjJIMjJDMjcuNTIyOCAyMiAzMiAyNi40NzcyIDMyIDMyVjM0QzMyIDM1LjEwNDYgMzEuMTA0NiAzNiAzMCAzNkgxMEM4Ljg5NTQzIDM2IDggMzUuMTA0NiA4IDM0VjMyWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+" alt="Attorney Profile">
                                            </div>
                                            <div class="ml-4">
                                                <div class="flex items-center">
                                                    <p class="text-sm font-medium text-gray-900">Sarah Cohen</p>
                                                    <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                                                        Attorney
                                                    </span>
                                                </div>
                                                <p class="text-sm text-gray-500">sarah@cohenlawfirm.com</p>
                                                <div class="flex items-center mt-1">
                                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800">
                                                        <i class="fa-solid fa-circle text-green-500 text-xs mr-1"></i>
                                                        Active
                                                    </span>
                                                    <span class="ml-2 text-xs text-gray-400">Last login: 1 day ago</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <button class="p-2 text-gray-400 hover:text-gray-600 transition-colors duration-200" title="Edit User">
                                                <i class="fa-solid fa-edit"></i>
                                            </button>
                                            <button class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200" title="Deactivate User">
                                                <i class="fa-solid fa-user-slash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="px-6 py-4 hover:bg-gray-50 transition-colors duration-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0 h-10 w-10">
                                                <img class="h-10 w-10 rounded-full object-cover border-2 border-gray-200" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMwRDlGOEIiLz4KPGNpcmNsZSBjeD0iMjAiIGN5PSIxNiIgcj0iNiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTggMzJDOCAyNi40NzcyIDEyLjQ3NzIgMjIgMTggMjJIMjJDMjcuNTIyOCAyMiAzMiAyNi40NzcyIDMyIDMyVjM0QzMyIDM1LjEwNDYgMzEuMTA0NiAzNiAzMCAzNkgxMEM4Ljg5NTQzIDM2IDggMzUuMTA0NiA4IDM0VjMyWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+" alt="Paralegal Profile">
                                            </div>
                                            <div class="ml-4">
                                                <div class="flex items-center">
                                                    <p class="text-sm font-medium text-gray-900">Jennifer Martinez</p>
                                                    <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800">
                                                        Paralegal
                                                    </span>
                                                </div>
                                                <p class="text-sm text-gray-500">jennifer@cohenlawfirm.com</p>
                                                <div class="flex items-center mt-1">
                                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800">
                                                        <i class="fa-solid fa-circle text-green-500 text-xs mr-1"></i>
                                                        Active
                                                    </span>
                                                    <span class="ml-2 text-xs text-gray-400">Last login: 30 minutes ago</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <button class="p-2 text-gray-400 hover:text-gray-600 transition-colors duration-200" title="Edit User">
                                                <i class="fa-solid fa-edit"></i>
                                            </button>
                                            <button class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200" title="Deactivate User">
                                                <i class="fa-solid fa-user-slash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
                            <div class="px-6 py-4 bg-gray-50 border-b border-gray-200">
                                <div class="flex items-center justify-between">
                                    <h4 class="text-md font-medium text-gray-900">Client Management</h4>
                                    <span class="text-sm text-gray-500">Quick actions for client/lead status changes</span>
                                </div>
                            </div>
                            
                            <div class="divide-y divide-gray-200">
                                <div class="px-6 py-4 hover:bg-gray-50 transition-colors duration-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0 h-10 w-10">
                                                <img class="h-10 w-10 rounded-full object-cover border-2 border-gray-200" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNGNTk2NTAiLz4KPGN4cmNsZSBjeD0iMjAiIGN5PSIxNiIgcj0iNiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTggMzJDOCAyNi40NzcyIDEyLjQ3NzIgMjIgMTggMjJIMjJDMjcuNTIyOCAyMiAzMiAyNi40NzcyIDMyIDMyVjM0QzMyIDM1LjEwNDYgMzEuMTA0NiAzNiAzMCAzNkgxMEM4Ljg5NTQzIDM2IDggMzUuMTA0NiA8IDM0VjMyWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+" alt="Client Profile">
                                            </div>
                                            <div class="ml-4">
                                                <div class="flex items-center">
                                                    <p class="text-sm font-medium text-gray-900">John Smith</p>
                                                    <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800">
                                                        Lead
                                                    </span>
                                                </div>
                                                <p class="text-sm text-gray-500">john.smith@email.com</p>
                                                <div class="flex items-center mt-1">
                                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800">
                                                        <i class="fa-solid fa-clock text-yellow-500 text-xs mr-1"></i>
                                                        Pending Review
                                                    </span>
                                                    <span class="ml-2 text-xs text-gray-400">Applied 3 days ago</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <select class="px-3 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-law-blue">
                                                <option value="lead">Lead</option>
                                                <option value="client">Promote to Client</option>
                                                <option value="declined">Decline</option>
                                            </select>
                                            <button class="px-3 py-1.5 bg-law-blue text-white text-xs rounded hover:bg-blue-800 transition-colors duration-200">
                                                Update
                                            </button>
                                            <button class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200" title="Delete User">
                                                <i class="fa-solid fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="px-6 py-4 hover:bg-gray-50 transition-colors duration-200">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0 h-10 w-10">
                                                <img class="h-10 w-10 rounded-full object-cover border-2 border-gray-200" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMxMDU2M0YiLz4KPGN4cmNsZSBjeD0iMjAiIGN5PSIxNiIgcj0iNiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTggMzJDOCAyNi40NzcyIDEyLjQ3NzIgMjIgMTggMjJIMjJDMjcuNTIyOCAyMiAzMiAyNi40NzcyIDMyIDMyVjM0QzMyIDM1LjEwNDYgMzEuMTA0NiAzNiAzMCAzNkgxMEM4Ljg5NTQzIDM2IDggMzUuMTA0NiA4IDM0VjMyWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+" alt="Client Profile">
                                            </div>
                                            <div class="ml-4">
                                                <div class="flex items-center">
                                                    <p class="text-sm font-medium text-gray-900">Maria Rodriguez</p>
                                                    <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                        Client
                                                    </span>
                                                </div>
                                                <p class="text-sm text-gray-500">maria.rodriguez@email.com</p>
                                                <div class="flex items-center mt-1">
                                                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800">
                                                        <i class="fa-solid fa-briefcase text-blue-500 text-xs mr-1"></i>
                                                        Chapter 7 - Active
                                                    </span>
                                                    <span class="ml-2 text-xs text-gray-400">Client since 2 weeks ago</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <select class="px-3 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-law-blue">
                                                <option value="client">Client</option>
                                                <option value="lead">Demote to Lead</option>
                                                <option value="inactive">Mark Inactive</option>
                                            </select>
                                            <button class="px-3 py-1.5 bg-law-blue text-white text-xs rounded hover:bg-blue-800 transition-colors duration-200">
                                                Update
                                            </button>
                                            <button class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200" title="Delete User">
                                                <i class="fa-solid fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white border border-gray-200 rounded-lg p-6">
                            <h4 class="text-md font-medium text-gray-900 mb-4">User Statistics</h4>
                            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div class="text-center p-4 bg-blue-50 rounded-lg">
                                    <div class="text-2xl font-bold text-blue-600">3</div>
                                    <div class="text-sm text-gray-600">Staff Members</div>
                                </div>
                                <div class="text-center p-4 bg-green-50 rounded-lg">
                                    <div class="text-2xl font-bold text-green-600">15</div>
                                    <div class="text-sm text-gray-600">Active Clients</div>
                                </div>
                                <div class="text-center p-4 bg-yellow-50 rounded-lg">
                                    <div class="text-2xl font-bold text-yellow-600">8</div>
                                    <div class="text-sm text-gray-600">Pending Leads</div>
                                </div>
                                <div class="text-center p-4 bg-gray-50 rounded-lg">
                                    <div class="text-2xl font-bold text-gray-600">2</div>
                                    <div class="text-sm text-gray-600">Inactive Users</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Folders Section -->
        <section id="folders-section" class="section-content hidden">
            <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900">Folder Management</h3>
                        <p class="text-sm text-gray-500 mt-1">Configure document folders and organization for client uploads</p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button onclick="addNewFolder()" class="px-4 py-2 bg-law-blue text-white rounded-lg hover:bg-blue-800 transition-colors duration-200">
                            <i class="fa-solid fa-folder-plus mr-2"></i>
                            Add Folder
                        </button>
                        <button onclick="resetFolderOrder()" class="px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200">
                            <i class="fa-solid fa-refresh mr-2"></i>
                            Reset Order
                        </button>
                    </div>
                </div>
                
                <div class="p-6">
                    <div class="mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="text-md font-semibold text-gray-900">Document Categories</h4>
                            <div class="text-sm text-gray-500">
                                <i class="fa-solid fa-arrows-up-down mr-1"></i>
                                Drag to reorder
                            </div>
                        </div>
                        
                        <div id="folders-list" class="space-y-3">
                            <div class="folder-item bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-move hover:shadow-md transition-shadow duration-200" draggable="true" data-folder-id="personal">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="drag-handle text-gray-400 hover:text-gray-600">
                                            <i class="fa-solid fa-grip-vertical"></i>
                                        </div>
                                        <div class="folder-icon text-law-blue">
                                            <i class="fa-solid fa-user text-xl"></i>
                                        </div>
                                        <div class="folder-details">
                                            <h5 class="font-medium text-gray-900">Personal Documents</h5>
                                            <p class="text-sm text-gray-500">Identity documents, personal records, and related files</p>
                                            <div class="flex items-center mt-1 space-x-3">
                                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                                    <i class="fa-solid fa-asterisk mr-1 text-xs"></i>
                                                    Required
                                                </span>
                                                <span class="text-xs text-gray-400">Order: 1</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button onclick="editFolder('personal')" class="p-2 text-gray-400 hover:text-law-blue transition-colors duration-200">
                                            <i class="fa-solid fa-edit"></i>
                                        </button>
                                        <button onclick="deleteFolder('personal')" class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="folder-item bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-move hover:shadow-md transition-shadow duration-200" draggable="true" data-folder-id="financial">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="drag-handle text-gray-400 hover:text-gray-600">
                                            <i class="fa-solid fa-grip-vertical"></i>
                                        </div>
                                        <div class="folder-icon text-green-600">
                                            <i class="fa-solid fa-chart-line text-xl"></i>
                                        </div>
                                        <div class="folder-details">
                                            <h5 class="font-medium text-gray-900">Financial Records</h5>
                                            <p class="text-sm text-gray-500">Bank statements, tax returns, pay stubs, and financial documents</p>
                                            <div class="flex items-center mt-1 space-x-3">
                                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                                    <i class="fa-solid fa-asterisk mr-1 text-xs"></i>
                                                    Required
                                                </span>
                                                <span class="text-xs text-gray-400">Order: 2</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button onclick="editFolder('financial')" class="p-2 text-gray-400 hover:text-law-blue transition-colors duration-200">
                                            <i class="fa-solid fa-edit"></i>
                                        </button>
                                        <button onclick="deleteFolder('financial')" class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="folder-item bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-move hover:shadow-md transition-shadow duration-200" draggable="true" data-folder-id="debt">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="drag-handle text-gray-400 hover:text-gray-600">
                                            <i class="fa-solid fa-grip-vertical"></i>
                                        </div>
                                        <div class="folder-icon text-red-600">
                                            <i class="fa-solid fa-credit-card text-xl"></i>
                                        </div>
                                        <div class="folder-details">
                                            <h5 class="font-medium text-gray-900">Debt Documentation</h5>
                                            <p class="text-sm text-gray-500">Credit card statements, loan documents, and debt-related paperwork</p>
                                            <div class="flex items-center mt-1 space-x-3">
                                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                                    <i class="fa-solid fa-asterisk mr-1 text-xs"></i>
                                                    Required
                                                </span>
                                                <span class="text-xs text-gray-400">Order: 3</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button onclick="editFolder('debt')" class="p-2 text-gray-400 hover:text-law-blue transition-colors duration-200">
                                            <i class="fa-solid fa-edit"></i>
                                        </button>
                                        <button onclick="deleteFolder('debt')" class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="folder-item bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-move hover:shadow-md transition-shadow duration-200" draggable="true" data-folder-id="property">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="drag-handle text-gray-400 hover:text-gray-600">
                                            <i class="fa-solid fa-grip-vertical"></i>
                                        </div>
                                        <div class="folder-icon text-purple-600">
                                            <i class="fa-solid fa-home text-xl"></i>
                                        </div>
                                        <div class="folder-details">
                                            <h5 class="font-medium text-gray-900">Property Documents</h5>
                                            <p class="text-sm text-gray-500">Real estate documents, mortgage papers, and property-related files</p>
                                            <div class="flex items-center mt-1 space-x-3">
                                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                                    <i class="fa-solid fa-circle mr-1 text-xs"></i>
                                                    Optional
                                                </span>
                                                <span class="text-xs text-gray-400">Order: 4</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button onclick="editFolder('property')" class="p-2 text-gray-400 hover:text-law-blue transition-colors duration-200">
                                            <i class="fa-solid fa-edit"></i>
                                        </button>
                                        <button onclick="deleteFolder('property')" class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="folder-item bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-move hover:shadow-md transition-shadow duration-200" draggable="true" data-folder-id="income">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="drag-handle text-gray-400 hover:text-gray-600">
                                            <i class="fa-solid fa-grip-vertical"></i>
                                        </div>
                                        <div class="folder-icon text-blue-600">
                                            <i class="fa-solid fa-dollar-sign text-xl"></i>
                                        </div>
                                        <div class="folder-details">
                                            <h5 class="font-medium text-gray-900">Income Documentation</h5>
                                            <p class="text-sm text-gray-500">Employment records, business income, and income verification</p>
                                            <div class="flex items-center mt-1 space-x-3">
                                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                                    <i class="fa-solid fa-asterisk mr-1 text-xs"></i>
                                                    Required
                                                </span>
                                                <span class="text-xs text-gray-400">Order: 5</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button onclick="editFolder('income')" class="p-2 text-gray-400 hover:text-law-blue transition-colors duration-200">
                                            <i class="fa-solid fa-edit"></i>
                                        </button>
                                        <button onclick="deleteFolder('income')" class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="folder-item bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-move hover:shadow-md transition-shadow duration-200" draggable="true" data-folder-id="legal">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="drag-handle text-gray-400 hover:text-gray-600">
                                            <i class="fa-solid fa-grip-vertical"></i>
                                        </div>
                                        <div class="folder-icon text-gray-700">
                                            <i class="fa-solid fa-gavel text-xl"></i>
                                        </div>
                                        <div class="folder-details">
                                            <h5 class="font-medium text-gray-900">Legal Documents</h5>
                                            <p class="text-sm text-gray-500">Court documents, legal contracts, and official correspondence</p>
                                            <div class="flex items-center mt-1 space-x-3">
                                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                                    <i class="fa-solid fa-circle mr-1 text-xs"></i>
                                                    Optional
                                                </span>
                                                <span class="text-xs text-gray-400">Order: 6</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button onclick="editFolder('legal')" class="p-2 text-gray-400 hover:text-law-blue transition-colors duration-200">
                                            <i class="fa-solid fa-edit"></i>
                                        </button>
                                        <button onclick="deleteFolder('legal')" class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                    </div>  
                                </div>
                            </div>
                            
                            <div class="folder-item bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-move hover:shadow-md transition-shadow duration-200" draggable="true" data-folder-id="other">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="drag-handle text-gray-400 hover:text-gray-600">
                                            <i class="fa-solid fa-grip-vertical"></i>
                                        </div>
                                        <div class="folder-icon text-gray-500">
                                            <i class="fa-solid fa-folder text-xl"></i>
                                        </div>
                                        <div class="folder-details">
                                            <h5 class="font-medium text-gray-900">Other Documents</h5>
                                            <p class="text-sm text-gray-500">Miscellaneous documents and additional supporting files</p>
                                            <div class="flex items-center mt-1 space-x-3">
                                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                                    <i class="fa-solid fa-circle mr-1 text-xs"></i>
                                                    Optional
                                                </span>
                                                <span class="text-xs text-gray-400">Order: 7</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button onclick="editFolder('other')" class="p-2 text-gray-400 hover:text-law-blue transition-colors duration-200">
                                            <i class="fa-solid fa-edit"></i>
                                        </button>
                                        <button onclick="deleteFolder('other')" class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8 pt-6 border-t border-gray-200">
                        <h4 class="text-md font-semibold text-gray-900 mb-4">Folder Statistics</h4>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div class="bg-blue-50 rounded-lg p-4">
                                <div class="flex items-center">
                                    <div class="p-2 bg-blue-100 rounded-lg">
                                        <i class="fa-solid fa-folder text-blue-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-blue-900">Total Folders</p>
                                        <p class="text-2xl font-semibold text-blue-600">7</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-red-50 rounded-lg p-4">
                                <div class="flex items-center">
                                    <div class="p-2 bg-red-100 rounded-lg">
                                        <i class="fa-solid fa-asterisk text-red-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-red-900">Required</p>
                                        <p class="text-2xl font-semibold text-red-600">4</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-yellow-50 rounded-lg p-4">
                                <div class="flex items-center">
                                    <div class="p-2 bg-yellow-100 rounded-lg">
                                        <i class="fa-solid fa-circle text-yellow-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-yellow-900">Optional</p>
                                        <p class="text-2xl font-semibold text-yellow-600">3</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-green-50 rounded-lg p-4">
                                <div class="flex items-center">
                                    <div class="p-2 bg-green-100 rounded-lg">
                                        <i class="fa-solid fa-check text-green-600"></i>
                                    </div>
                                    <div class="ml-3">
                                        <p class="text-sm font-medium text-green-900">Active</p>
                                        <p class="text-2xl font-semibold text-green-600">7</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Forms Section -->
        <section id="forms-section" class="section-content hidden">
            <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-900">Form Management</h3>
                        <p class="text-sm text-gray-500 mt-1">Design and customize forms for leads and clients</p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button onclick="openFormEditor()" class="px-4 py-2 bg-law-blue text-white rounded-lg hover:bg-blue-800 transition-colors duration-200">
                            <i class="fa-solid fa-edit mr-2"></i>
                            Open Form Editor
                        </button>
                        <button onclick="exportFormData()" class="px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200">
                            <i class="fa-solid fa-download mr-2"></i>
                            Export
                        </button>
                    </div>
                </div>
                <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="text-lg font-semibold text-gray-900 mb-2">Bankruptcy Application Form</h4>
                                    <p class="text-sm text-gray-600 mb-4">Lead intake form for initial bankruptcy consultation</p>
                                    <div class="flex items-center space-x-4 text-sm text-gray-500">
                                        <span><i class="fa-solid fa-list mr-1"></i>12 Fields</span>
                                        <span><i class="fa-solid fa-users mr-1"></i>45 Submissions</span>
                                        <span><i class="fa-solid fa-clock mr-1"></i>Last updated 2 days ago</span>
                                    </div>
                                </div>
                                <div class="text-blue-600">
                                    <i class="fa-solid fa-file-text text-3xl"></i>
                                </div>
                            </div>
                            <div class="mt-4 flex space-x-2">
                                <button onclick="editForm('bankruptcy')" class="px-3 py-2 bg-law-blue text-white text-sm rounded hover:bg-blue-800 transition-colors duration-200">
                                    <i class="fa-solid fa-edit mr-1"></i>
                                    Edit
                                </button>
                                <button onclick="previewFormInline('bankruptcy')" class="px-3 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 transition-colors duration-200">
                                    <i class="fa-solid fa-eye mr-1"></i>
                                    Preview
                                </button>
                                <button onclick="viewSubmissions('bankruptcy')" class="px-3 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 transition-colors duration-200">
                                    <i class="fa-solid fa-table mr-1"></i>
                                    Submissions
                                </button>
                            </div>
                        </div>
                        
                        <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 border border-green-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h4 class="text-lg font-semibold text-gray-900 mb-2">Financial Questionnaire</h4>
                                    <p class="text-sm text-gray-600 mb-4">Detailed financial assessment for existing clients</p>
                                    <div class="flex items-center space-x-4 text-sm text-gray-500">
                                        <span><i class="fa-solid fa-list mr-1"></i>28 Fields</span>
                                        <span><i class="fa-solid fa-users mr-1"></i>23 Submissions</span>
                                        <span><i class="fa-solid fa-clock mr-1"></i>Last updated 1 week ago</span>
                                    </div>
                                </div>
                                <div class="text-green-600">
                                    <i class="fa-solid fa-chart-bar text-3xl"></i>
                                </div>
                            </div>
                            <div class="mt-4 flex space-x-2">
                                <button onclick="editForm('financial')" class="px-3 py-2 bg-law-blue text-white text-sm rounded hover:bg-blue-800 transition-colors duration-200">
                                    <i class="fa-solid fa-edit mr-1"></i>
                                    Edit
                                </button>
                                <button onclick="previewFormInline('financial')" class="px-3 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 transition-colors duration-200">
                                    <i class="fa-solid fa-eye mr-1"></i>
                                    Preview
                                </button>
                                <button onclick="viewSubmissions('financial')" class="px-3 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 transition-colors duration-200">
                                    <i class="fa-solid fa-table mr-1"></i>
                                    Submissions
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h4 class="text-lg font-semibold text-gray-900">Form Analytics</h4>
                            <select class="px-3 py-2 border border-gray-300 rounded text-sm">
                                <option>Last 30 days</option>
                                <option>Last 90 days</option>
                                <option>Last year</option>
                            </select>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                            <div class="bg-white rounded-lg p-4 text-center">
                                <div class="text-2xl font-bold text-law-blue">68</div>
                                <div class="text-sm text-gray-500">Total Submissions</div>
                            </div>
                            <div class="bg-white rounded-lg p-4 text-center">
                                <div class="text-2xl font-bold text-green-600">85%</div>
                                <div class="text-sm text-gray-500">Completion Rate</div>
                            </div>
                            <div class="bg-white rounded-lg p-4 text-center">
                                <div class="text-2xl font-bold text-orange-600">5.2</div>
                                <div class="text-sm text-gray-500">Avg. Time (min)</div>
                            </div>
                            <div class="bg-white rounded-lg p-4 text-center">
                                <div class="text-2xl font-bold text-red-600">12</div>
                                <div class="text-sm text-gray-500">Abandoned</div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg p-4">
                            <h5 class="font-medium text-gray-900 mb-4">Recent Form Activity</h5>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between py-2 border-b border-gray-100">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                            <i class="fa-solid fa-file-text text-blue-600 text-sm"></i>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">New bankruptcy application submitted</div>
                                            <div class="text-xs text-gray-500">Sarah Johnson - 2 hours ago</div>
                                        </div>
                                    </div>
                                    <button class="px-2 py-1 bg-law-blue text-white text-xs rounded hover:bg-blue-800">View</button>
                                </div>
                                <div class="flex items-center justify-between py-2 border-b border-gray-100">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                            <i class="fa-solid fa-chart-bar text-green-600 text-sm"></i>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Financial questionnaire completed</div>
                                            <div class="text-xs text-gray-500">Michael Brown - 4 hours ago</div>
                                        </div>
                                    </div>
                                    <button class="px-2 py-1 bg-law-blue text-white text-xs rounded hover:bg-blue-800">View</button>
                                </div>
                                <div class="flex items-center justify-between py-2 border-b border-gray-100">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center">
                                            <i class="fa-solid fa-exclamation-triangle text-yellow-600 text-sm"></i>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Form abandoned - incomplete submission</div>
                                            <div class="text-xs text-gray-500">Anonymous user - 1 day ago</div>
                                        </div>
                                    </div>
                                    <button class="px-2 py-1 border border-gray-300 text-gray-700 text-xs rounded hover:bg-gray-50">Details</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <div class="flex items-start space-x-3">
                            <i class="fa-solid fa-info-circle text-blue-600 mt-1"></i>
                            <div>
                                <h5 class="font-medium text-blue-900 mb-1">Visual Form Editor</h5>
                                <p class="text-sm text-blue-800">Use the form editor to drag and drop form fields, customize layouts, and manage form logic without any coding knowledge. All changes are automatically saved and can be previewed in real-time.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <script>
        // URL Parameter detection for showing appropriate section
        window.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const section = urlParams.get('section');
            
            if (section) {
                showSection(section);
            } else {
                // Default to user-management if no section specified
                showSection('user-management');
            }
        });

        // Show section function
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show the target section
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.classList.remove('hidden');
            }
        }

        // Folder Management Functions
        function addNewFolder() {
            const folderName = prompt('Enter folder name:');
            if (folderName && folderName.trim()) {
                const foldersList = document.getElementById('folders-list');
                const folderCount = foldersList.children.length + 1;
                
                const newFolder = document.createElement('div');
                newFolder.className = 'folder-item bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-move hover:shadow-md transition-shadow duration-200';
                newFolder.draggable = true;
                newFolder.setAttribute('data-folder-id', folderName.toLowerCase().replace(/\s+/g, '-'));
                
                newFolder.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="drag-handle text-gray-400 hover:text-gray-600">
                                <i class="fa-solid fa-grip-vertical"></i>
                            </div>
                            <div class="folder-icon text-gray-500">
                                <i class="fa-solid fa-folder text-xl"></i>
                            </div>
                            <div class="folder-details">
                                <h5 class="font-medium text-gray-900">${folderName}</h5>
                                <p class="text-sm text-gray-500">Custom folder for document organization</p>
                                <div class="flex items-center mt-1 space-x-3">
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                        <i class="fa-solid fa-circle mr-1 text-xs"></i>
                                        Optional
                                    </span>
                                    <span class="text-xs text-gray-400">Order: ${folderCount}</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button onclick="editFolder('${folderName.toLowerCase().replace(/\s+/g, '-')}')" class="p-2 text-gray-400 hover:text-law-blue transition-colors duration-200">
                                <i class="fa-solid fa-edit"></i>
                            </button>
                            <button onclick="deleteFolder('${folderName.toLowerCase().replace(/\s+/g, '-')}')" class="p-2 text-gray-400 hover:text-red-600 transition-colors duration-200">
                                <i class="fa-solid fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                foldersList.appendChild(newFolder);
                updateFolderStatistics();
                alert('Folder added successfully!');
            }
        }

        function editFolder(folderId) {
            const folderElement = document.querySelector(`[data-folder-id="${folderId}"]`);
            if (folderElement) {
                const currentName = folderElement.querySelector('h5').textContent;
                const newName = prompt('Edit folder name:', currentName);
                
                if (newName && newName.trim() && newName !== currentName) {
                    folderElement.querySelector('h5').textContent = newName;
                    alert('Folder updated successfully!');
                }
            }
        }

        function deleteFolder(folderId) {
            if (confirm('Are you sure you want to delete this folder? This action cannot be undone.')) {
                const folderElement = document.querySelector(`[data-folder-id="${folderId}"]`);
                if (folderElement) {
                    folderElement.remove();
                    updateFolderOrder();
                    updateFolderStatistics();
                    alert('Folder deleted successfully!');
                }
            }
        }

        function resetFolderOrder() {
            if (confirm('Reset all folders to their default order?')) {
                const foldersList = document.getElementById('folders-list');
                const folders = Array.from(foldersList.children);
                
                const defaultOrder = ['personal', 'financial', 'debt', 'property', 'income', 'legal', 'other'];
                
                folders.sort((a, b) => {
                    const aId = a.getAttribute('data-folder-id');
                    const bId = b.getAttribute('data-folder-id');
                    const aIndex = defaultOrder.indexOf(aId);
                    const bIndex = defaultOrder.indexOf(bId);
                    
                    if (aIndex === -1) return 1;
                    if (bIndex === -1) return -1;
                    return aIndex - bIndex;
                });
                
                folders.forEach(folder => foldersList.appendChild(folder));
                updateFolderOrder();
                alert('Folder order reset to default!');
            }
        }

        function updateFolderOrder() {
            const folders = document.querySelectorAll('.folder-item');
            folders.forEach((folder, index) => {
                const orderSpan = folder.querySelector('.text-xs.text-gray-400');
                if (orderSpan) {
                    orderSpan.textContent = `Order: ${index + 1}`;
                }
            });
        }

        function updateFolderStatistics() {
            const totalFolders = document.querySelectorAll('.folder-item').length;
            const requiredFolders = document.querySelectorAll('.bg-red-100').length;
            const optionalFolders = document.querySelectorAll('.bg-yellow-100').length;
            
            // Update statistics if elements exist
            const totalElement = document.querySelector('.text-2xl.font-semibold.text-blue-600');
            const requiredElement = document.querySelector('.text-2xl.font-semibold.text-red-600');
            const optionalElement = document.querySelector('.text-2xl.font-semibold.text-yellow-600');
            
            if (totalElement) totalElement.textContent = totalFolders;
            if (requiredElement) requiredElement.textContent = requiredFolders;
            if (optionalElement) optionalElement.textContent = optionalFolders;
        }

        // Form Management Functions
        function openFormEditor() {
            window.open('adminFormManagement.html', '_blank', 'width=1400,height=800');
        }

        function editForm(formType) {
            window.open(`adminFormManagement.html?form=${formType}`, '_blank', 'width=1400,height=800');
        }

        function previewFormInline(formType) {
            window.open(`formPreview.html?form=${formType}`, '_blank', 'width=800,height=600');
        }

        function viewSubmissions(formType) {
            alert(`Viewing submissions for ${formType} form (Feature to be implemented)`);
        }

        function exportFormData() {
            const csvContent = "Form,Fields,Submissions,Completion Rate\n" +
                             "Bankruptcy Application,12,45,85%\n" +
                             "Financial Questionnaire,28,23,87%";
            
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = 'form-analytics.csv';
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
        }

        // Initialize drag and drop for folders (basic implementation)
        document.addEventListener('DOMContentLoaded', function() {
            let draggedElement = null;
            
            document.addEventListener('dragstart', function(e) {
                if (e.target.classList.contains('folder-item')) {
                    draggedElement = e.target;
                    e.target.style.opacity = '0.5';
                }
            });
            
            document.addEventListener('dragend', function(e) {
                if (e.target.classList.contains('folder-item')) {
                    e.target.style.opacity = '';
                    draggedElement = null;
                }
            });
            
            document.addEventListener('dragover', function(e) {
                e.preventDefault();
            });
            
            document.addEventListener('drop', function(e) {
                e.preventDefault();
                if (draggedElement && e.target.closest('.folder-item') && e.target.closest('.folder-item') !== draggedElement) {
                    const foldersList = document.getElementById('folders-list');
                    const targetFolder = e.target.closest('.folder-item');
                    const rect = targetFolder.getBoundingClientRect();
                    const midpoint = rect.top + rect.height / 2;
                    
                    if (e.clientY < midpoint) {
                        foldersList.insertBefore(draggedElement, targetFolder);
                    } else {
                        foldersList.insertBefore(draggedElement, targetFolder.nextSibling);
                    }
                    
                    updateFolderOrder();
                }
            });
        });
    </script>
</body>
</html>